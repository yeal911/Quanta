<Window x:Class="Quanta.Views.RecordingOverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Recording"
        Width="185" Height="120"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ShowActivated="False"
        ResizeMode="NoResize"
        UseLayoutRounding="True"
        SnapsToDevicePixels="True"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        Loaded="Window_Loaded">

    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">

        <!-- GIF 录制图标 -->
        <Image x:Name="RecordingIcon"
               Width="54" Height="54"
               HorizontalAlignment="Center"
               SnapsToDevicePixels="True"
               Stretch="Uniform"
               RenderOptions.BitmapScalingMode="Fant"
               Margin="0,0,0,4"/>

        <!-- 按钮容器：灰白色背景，按钮整体 -->
        <Border Background="#E8E8E8" CornerRadius="4" Padding="1,1" Margin="0,0,0,2">
            <!-- 按钮行：5 个按钮，间距 1px -->
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="PauseButton" Width="24" Height="24" Padding="0" Margin="0.2,0,0.2,0"
                        FocusVisualStyle="{x:Null}" Click="PauseButton_Click" IsEnabled="False">
                    <Button.ToolTip><ToolTip x:Name="PauseTooltip" Content="暂停录音"/></Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="Transparent" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                <Image x:Name="PauseImage" Width="16" Height="16" Opacity="0.7"
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="PauseImage" Property="Opacity" Value="1.0"/></Trigger>
                                <Trigger Property="IsPressed" Value="True"><Setter TargetName="PauseImage" Property="Opacity" Value="0.5"/></Trigger>
                                <Trigger Property="IsEnabled" Value="False"><Setter TargetName="PauseImage" Property="Opacity" Value="0.2"/></Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button x:Name="ResumeButton" Width="24" Height="24" Padding="0" Margin="0.2,0,0.2,0"
                        FocusVisualStyle="{x:Null}" Click="ResumeButton_Click" IsEnabled="False">
                    <Button.ToolTip><ToolTip x:Name="ResumeTooltip" Content="继续录音"/></Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="Transparent" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                <Image x:Name="ResumeImage" Width="16" Height="16" Opacity="0.7"
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="ResumeImage" Property="Opacity" Value="1.0"/></Trigger>
                                <Trigger Property="IsPressed" Value="True"><Setter TargetName="ResumeImage" Property="Opacity" Value="0.5"/></Trigger>
                                <Trigger Property="IsEnabled" Value="False"><Setter TargetName="ResumeImage" Property="Opacity" Value="0.2"/></Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button x:Name="StopButton" Width="24" Height="24" Padding="0" Margin="0.2,0,0.2,0"
                        FocusVisualStyle="{x:Null}" Click="StopButton_Click" IsEnabled="False">
                    <Button.ToolTip><ToolTip x:Name="StopTooltip" Content="停止录音"/></Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="Transparent" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                <Image x:Name="StopImage" Width="16" Height="16" Opacity="0.7"
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="StopImage" Property="Opacity" Value="1.0"/></Trigger>
                                <Trigger Property="IsPressed" Value="True"><Setter TargetName="StopImage" Property="Opacity" Value="0.5"/></Trigger>
                                <Trigger Property="IsEnabled" Value="False"><Setter TargetName="StopImage" Property="Opacity" Value="0.2"/></Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button x:Name="DropButton" Width="24" Height="24" Padding="0" Margin="0.2,0,0.2,0"
                        FocusVisualStyle="{x:Null}" Click="DropButton_Click" IsEnabled="False">
                    <Button.ToolTip><ToolTip x:Name="DropTooltip" Content="放弃录音"/></Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="Transparent" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                <Image x:Name="DropImage" Width="16" Height="16" Opacity="0.7"
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="DropImage" Property="Opacity" Value="1.0"/></Trigger>
                                <Trigger Property="IsPressed" Value="True"><Setter TargetName="DropImage" Property="Opacity" Value="0.5"/></Trigger>
                                <Trigger Property="IsEnabled" Value="False"><Setter TargetName="DropImage" Property="Opacity" Value="0.2"/></Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button x:Name="HideButton" Width="24" Height="24" Padding="0" Margin="0.2,0,0.2,0"
                        FocusVisualStyle="{x:Null}" Click="HideButton_Click">
                    <Button.ToolTip><ToolTip x:Name="HideTooltip" Content="隐藏到后台"/></Button.ToolTip>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="Transparent" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                <Image x:Name="HideImage" Width="16" Height="16" Opacity="0.7"
                                       RenderOptions.BitmapScalingMode="HighQuality"
                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True"><Setter TargetName="HideImage" Property="Opacity" Value="1.0"/></Trigger>
                                <Trigger Property="IsPressed" Value="True"><Setter TargetName="HideImage" Property="Opacity" Value="0.5"/></Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Border>

        <!-- 信息行：与按钮容器样式一致 -->
        <Border Background="#E8E8E8" CornerRadius="4"
                Width="125" Height="22" Padding="4,3"
                Cursor="Hand" MouseLeftButtonUp="InfoBox_Click">
            <Border.ToolTip><ToolTip x:Name="InfoTooltip" Content="点击打开录音目录"/></Border.ToolTip>
            <TextBlock x:Name="InfoTextBlock" Text="00:00 | 0 KB"
                       Foreground="#333333" FontSize="9" FontFamily="Consolas"
                       TextAlignment="Center" VerticalAlignment="Center" HorizontalAlignment="Center"/>
        </Border>
    </StackPanel>
</Window>
